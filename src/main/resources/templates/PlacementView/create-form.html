<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tambah Placement - Sistem Monitoring</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* gaya singkat agar tidak panjang; gunakan gaya yang sama seperti sebelumnya */
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#f2ece3; color:#0b2340; }
    .container-main { max-width:980px; margin:2rem auto; padding:1.2rem; background:#fff; border-radius:12px; }
    .title { font-weight:700; font-size:1.15rem; margin-bottom:1rem; display:flex; gap:.6rem; align-items:center; }
    .btn-save { background:#b78b4a; color:#fff; border-radius:8px; padding:.5rem 1rem; border:0; font-weight:700;}
  </style>
</head>
<body>
  <div th:replace="~{layouts/fragments/navbar :: topbar}"></div>
  <div th:replace="~{layouts/fragments/sidebar :: sidebar}"></div>
  <main class="container-main">
    <div class="title">
      <span>Tambah Tempat PKL Baru</span>
    </div>

    <form th:action="@{/placements}" th:object="${placement}" method="post">
      <div class="row g-3">

        <!-- Student -->
        <div class="col-12 col-md-6">
          <label class="form-label">Siswa <span class="text-danger">*</span></label>
          <select class="form-select" name="studentId" required>
            <option value="" disabled selected>Pilih siswa</option>
            <option th:each="s : ${students}" th:value="${s.studentId}" th:text="${s.user != null ? s.user.username : s.studentId}"></option>
          </select>
        </div>

        <!-- Company -->
        <div class="col-12 col-md-6">
          <label class="form-label">Perusahaan <span class="text-danger">*</span></label>
          <select class="form-select" name="companyId" required>
            <option value="" disabled selected>Pilih perusahaan</option>
            <option th:each="c : ${companies}" th:value="${c.companyId}" th:text="${c.companyName}"></option>
          </select>
        </div>

        <!-- Company Supervisor -->
        <div class="col-12 col-md-6">
          <label class="form-label">Pembimbing Perusahaan</label>
          <select class="form-select" name="companySupervisorId">
            <option value="">-- Tidak pilih --</option>
            <option th:each="cs : ${companySupervisors}" th:value="${cs.cSupervisorId}" th:text="${cs.user != null ? cs.user.username : cs.cSupervisorId}"></option>
          </select>
        </div>

        <!-- School Supervisor -->
        <div class="col-12 col-md-6">
          <label class="form-label">Pembimbing Sekolah</label>
          <select class="form-select" name="schoolSupervisorId">
            <option value="">-- Tidak pilih --</option>
            <option th:each="ss : ${schoolSupervisors}" th:value="${ss.sSupervisorId}" th:text="${ss.user != null ? ss.user.username : ss.sSupervisorId}"></option>
          </select>
        </div>

        <!-- Start Date -->
        <div class="col-12 col-md-6">
          <label class="form-label">Tanggal Mulai <span class="text-danger">*</span></label>
          <input type="datetime-local" class="form-control" name="startDate" required />
        </div>

        <!-- End Date -->
        <div class="col-12 col-md-6">
          <label class="form-label">Tanggal Selesai <span class="text-danger">*</span></label>
          <input type="datetime-local" class="form-control" name="endDate" required />
        </div>

        <!-- Status -->
        <div class="col-12 col-md-6">
          <label class="form-label">Status</label>
          <select class="form-select" name="status">
            <option value="">-- Pilih status (default PENDING) --</option>
            <option th:each="st : ${statuses}" th:value="${st}" th:text="${st}"></option>
          </select>
        </div>

        <div class="col-12 d-flex justify-content-end mt-3">
          <button type="submit" class="btn-save">Simpan</button>
        </div>
      </div>
    </form>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
